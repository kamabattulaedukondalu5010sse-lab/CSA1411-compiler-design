#include <stdio.h>
#include <string.h>

#define SIZE 20

int main()
{
    char production[10][SIZE];
    char non_terminal, alpha, beta;
    int num, i, j;

    printf("Enter Number of Productions: ");
    scanf("%d", &num);

    printf("Enter the grammar (Example: A->A+B|C):\n");

    for (i = 0; i < num; i++)
        scanf("%s", production[i]);

    for (i = 0; i < num; i++)
    {
        printf("\nGRAMMAR: %s", production[i]);

        non_terminal = production[i][0];

        // Check left recursion: A->Aa|ß
        if (production[i][3] == non_terminal)
        {
            printf(" is left recursive.\n");

            j = 3;

            // Find |
            while (production[i][j] != '|' &&
                   production[i][j] != '\0')
            {
                j++;
            }

            // Get alpha and beta
            alpha = production[i][4];      // After A
            beta = production[i][j + 1];   // After |

            printf("Grammar without left recursion:\n");

            // A -> ßA'
            printf("%c->%c%c'\n", non_terminal, beta, non_terminal);

            // A' -> aA' | e
            printf("%c'->%c%c'|E\n",
                   non_terminal, alpha, non_terminal);
        }
        else
        {
            printf(" is not left recursive.\n");
        }
    }

    return 0;
}

OUTPUT:
Enter Number of Productions: 2
Enter the grammar (Example: A->A+B|C):
S->S+B|C
A->A+B|C

GRAMMAR: S->S+B|C is left recursive.
Grammar without left recursion:
S->CS'
S'->+S'|E

GRAMMAR: A->A+B|C is left recursive.
Grammar without left recursion:
A->CA'
A'->+A'|E
